<%= form_with(model: member, local: true) do |form| %>
  <!-- existing form fields for member -->
  <div class="field">
    <%= form.label :first_name %>
    <%= form.text_field :first_name %>
  </div>
  <div class="field">
    <%= form.label :last_name %>
    <%= form.text_field :last_name %>
  </div>
  <div class="field">
    <%= form.label :contact_number %>
    <%= form.text_field :contact_number %>
  </div>
  <div class="field">
    <%= form.label :address %>
    <%= form.text_area :address %>
  </div>
  <div class="field">
    <%= form.label :gender %>
    <%= form.select :gender, Member.genders.keys.map { |gender| [gender.humanize, gender] } %>
  </div>

  <%= form.fields_for :plan do |plan_form| %>
    <div class="field">
      <%= plan_form.label :start_date %>
      <%= plan_form.date_select :start_date %>
    </div>
    <div class="field">
      <%= plan_form.label :end_date %>
      <%= plan_form.date_select :end_date %>
    </div>
    <div class="field">
      <%= plan_form.label :price %>
      <%= plan_form.number_field :price %>
    </div>
  <% end %>

  <div class="actions">
    <%= form.submit %>
  </div>
<% end %>